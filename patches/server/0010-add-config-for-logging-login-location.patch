From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Simon Gardling <titaniumtown@gmail.com>
Date: Wed, 20 Jan 2021 16:36:48 -0500
Subject: [PATCH] add config for logging login location

Original code by Yatopia, licensed under MIT License

diff --git a/src/main/java/net/minecraft/server/players/PlayerList.java b/src/main/java/net/minecraft/server/players/PlayerList.java
index 6b78b1d6ac2ede431cbef107ee7e322296051cd2..e13fe23d60d196733f5acb82aafee11644a9fc1f 100644
--- a/src/main/java/net/minecraft/server/players/PlayerList.java
+++ b/src/main/java/net/minecraft/server/players/PlayerList.java
@@ -482,7 +482,14 @@ public abstract class PlayerList {
         }
         // Paper end
         // CraftBukkit - Moved from above, added world
-        PlayerList.LOGGER.info("{}[{}] logged in with entity id {} at ([{}]{}, {}, {})", player.getName().getString(), s1, player.getId(), worldserver1.serverLevelData.getLevelName(), player.getX(), player.getY(), player.getZ());
+
+        // Sugarcane start - configurable logging of player login location
+        if (org.sugarcanemc.sugarcane.config.SugarcaneConfig.logPlayerLoginLoc) {
+            PlayerList.LOGGER.info("{}[{}] logged in with entity id {} at ([{}]{}, {}, {})", player.getName().getString(), s1, player.getId(), worldserver1.serverLevelData.getLevelName(), player.getX(), player.getY(), player.getZ());
+        } else {
+            PlayerList.LOGGER.info("{}[{}] logged in with entity id {}", player.getName().getString(), s1, player.getId());
+        }
+        // Sugarcane end - configurable logging of player login location
     }
 
     public void updateEntireScoreboard(ServerScoreboard scoreboard, ServerPlayer player) {
diff --git a/src/main/java/org/sugarcanemc/sugarcane/config/SugarcaneConfig.java b/src/main/java/org/sugarcanemc/sugarcane/config/SugarcaneConfig.java
index af82dc8844286f54cb2e1023b6b793f5bf00d7f2..3d8fca7f3c64f4b28c0ff602c11563f00b0babfa 100644
--- a/src/main/java/org/sugarcanemc/sugarcane/config/SugarcaneConfig.java
+++ b/src/main/java/org/sugarcanemc/sugarcane/config/SugarcaneConfig.java
@@ -106,6 +106,7 @@ public class SugarcaneConfig {
 	public static boolean disableEntityStuckChecks;
 	public static String brandName;
 	public static boolean fixProtocolLib;
+	public static boolean logPlayerLoginLoc;
 
 	private static void settings() {
 		config.setComment("brand-name", "Here you can set what should your server display as it's brand name", "NOTE: This settings overrides the purpur's server-mod-name setting");
@@ -123,4 +124,10 @@ public class SugarcaneConfig {
 
 		fixProtocolLib = config.getBoolean("protocolLib.fix-protocollib", true);
 	}
+
+	private static void miscSettings() {
+		config.setComment("logging", "Here you can configure some logging settings below");
+
+		logPlayerLoginLoc = config.getBoolean("logging.log-player-login-location", true);
+	}
 }
\ No newline at end of file
